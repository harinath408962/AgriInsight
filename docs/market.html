<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AgriInsight â€“ Market Advisory</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h2 {
      margin-bottom: 8px;
    }

    .controls {
      margin-top: 10px;
    }

    .controls select,
    .controls button {
      padding: 6px;
      margin-right: 6px;
    }

    .decision-card {
      background: #f0f9ff;
      border-left: 6px solid #0284c7;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
    }

    .chart-box {
      margin-top: 25px;
      height: 380px;
    }

    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
      background: #ffffff;
    }

    th, td {
      border: 1px solid #e5e7eb;
      padding: 8px;
      font-size: 13px;
      text-align: left;
    }

    th {
      background: #f8fafc;
    }
  </style>
</head>

<body>
  <h2>AgriInsight â€“ Market Advisory</h2>
  <p style="font-size:13px;color:#555;">
    Compare mandi prices across states and markets to make informed selling decisions.
  </p>

  <!-- INPUTS -->
  <div class="controls">
    <label>Crop:</label>
    <select id="crop"></select>

    <label>State:</label>
    <select id="state"></select>
 


    <label>Sort:</label>
    <select id="sort">
      <option value="desc">High â†’ Low</option>
      <option value="asc">Low â†’ High</option>
    </select>

    <button onclick="loadMarket()">Apply</button>
  </div>

  <!-- INSIGHT -->
  <div id="insights" class="decision-card">
  <button
    id="speakMarket"
    style="float:right; padding:6px; cursor:pointer;"
  >
    ðŸ”Š Speak Insight
  </button>

  <div id="insightContent">
    Select crop and state to view market insights.
  </div>
</div>


  <!-- CHART -->
  <h3>Market Price Comparison</h3>
  <p style="font-size:13px;color:#555;">
    Modal price comparison across selected mandis.
  </p>

  <div class="chart-box">
    <canvas id="marketChart"></canvas>
  </div>

  <!-- TABLE -->
  <h3>Market Price Table</h3>
  <p style="font-size:13px;color:#555;">
    Detailed mandi-wise pricing information.
  </p>

  <table id="marketTable">
    <thead>
      <tr>
        <th>Market</th>
        <th>District</th>
        <th>State</th>
        <th>Modal Price (â‚¹)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script src="js/market-v2.js"></script>
</body>
</html>
